\section{Introduction}


\section{Dirichlet Series and Dirichlet Functors}

\begin{defn}
A \emph{Dirichlet functor} is a contraviariant functor $F : \Sa\op \to \Sa$
which (?is accessible and?) sends weakly contractible colimits to limits.

The category $\Dir$ of Dirichlet functors is the full subcategory of
$\Fun(\Sa\op,\, \Sa)$ spanned by the Dirichlet functors.
\end{defn}

\begin{defn}
A \emph{Dirichlet series} is a bundle $\pi : E \to B$ in $\Sa$. We think of this
as a family of homotopy types $E_b$ varying with $b : B$.

The category $\DirSeries$ is the arrow category $\Sa^{\downarrow}$ of $\Sa$.
\end{defn}

\begin{prop}
  There is a fully faithful inclusion $\bang_{(-)} : \Sa \to \DirSeries$ given by
  $$X \mapsto \begin{tikzcd} X \arrow[d, "!_X"] \\ \ast \end{tikzcd}$$
  This functor preserves all limits and weakly contractible colimits
\end{prop}
\begin{proof}
  This functor preserves all limits because it has a left adjoint given by sending $\pi : E \to B$ to $E$ (in terms of families, this sends the family $E_b$ to the sum $\sum_{b : B} E_b$). 
  
  To see that it preserves weakly contractible colimits, recall that colimits in $H^{\downarrow}$ are calculated pointwise. It remains to show, then, that the map
  \[
    \begin{tikzcd}
    \colim S_i \arrow[r, equals] \arrow[d] & \colim S_i \arrow[d] \\
    \colim \ast \arrow[r] & \ast 
    \end{tikzcd}
  \]
  is an equivalence in $H^{\downarrow}$, for which it suffices to show that $\colim \ast$ is contractible. But the colimit of the terminal diagram is the (Kan-fibrant replacement of) its indexing simplicial set -- since we assumed the diagram was weakly contractible, $\colim \ast$ is contractible.
\end{proof}

\begin{defn}
To every Dirichlet series $\pi : E \to B$, we associate its \emph{extent}
$\term{ext}_{\pi} : \Sa\op \to \Sa$ given by
$$\term{ext}_{\pi}(S) :\equiv \DirSeries(\bang_S,\, \pi).$$
That is, $\term{ext} : \DirSeries \to \Fun(\Sa\op,\, \Sa)$ is the transpose of
$\DirSeries(\bang_{(-)}, -) : \Sa\op \times \DirSeries \to \Sa$.

In terms of type families, this is the functor
$$S \mapsto \sum_{b : B} E_b^S.$$
And it may be expressed as the composite
$$\Sa\op \xto{B^{\ast}\op} (\Sa_{/B})\op \xto{[-,\pi]} \Sa_{/B} \xto{B_{\ast}}
\Sa.$$
\end{defn}




\begin{prop}
The functor $\term{ext} : \DirSeries \to \Fun(\Sa\op,\, \Sa)$ has a left exact
left adjoint given by
$$D \mapsto \begin{tikzcd} D(\ast) \arrow[d, "D\bang_0"] \\ D(0) \end{tikzcd}$$
The counit of this adjunction is an equivalence, and so $\term{ext}$ is fully faithful.
\end{prop}
\begin{proof}
\emph{Idea:} Type-theoretically, we see that for $\pi : E \to B$,
\begin{align*}
  \term{ext}(\pi)(\ast) &= \sum_{b : B}E_b^\ast\\
  &\simeq \sum_{b : B} E_b\\
  &= E\\
  \term{ext}(\pi)(0) &= \sum_{b : B}E_b^0\\
  &\simeq \sum_{b : B} \ast\\
    &= B
\end{align*}
The counit is this evident equivalence. On the other hand, the unit can be
described by
\begin{align*}
  \eta_S : D(S) &\to \sum_{b : D(0)} D(1)^S\\
  z &\mapsto (D!_0(z), \lam{s} D\const_s(z)).
\end{align*}
\end{proof}

\begin{lem}\label{lem:cone.initial.equivalence}
Let $\Ca$ be an $\infty$-category with an initial object. For any simplicial set
$S$, let $\Ca^{S^{\triangleleft}}_{\ast}$ be the $\infty$-category of
  $S^{\triangleleft}$-shaped diagrams whose apex is at the initial object; that
  is, the following pullback:
  \[
    \begin{tikzcd}
      \Ca^{S} \arrow[drr, bend left] \arrow[ddr, bend right] \arrow[dr,
      dotted, "\sim"] & & \\
      & \Ca^{S^{\triangleleft}}_{\ast} \arrow[d] \arrow[r] \arrow[dr, phantom,
      "\ulcorner" very near start] & \Ca^{S^{\triangleleft}} \arrow[d,
      "\term{ev}_{\term{apex}}"] \\
      & \ast \arrow[r, "0"'] & \Ca
    \end{tikzcd}
  \]
The the dotted inclusion $\Ca^{S} \to \Ca^{S^{\triangleleft}}_{\ast}$ is an equivalence.
\end{lem}

\begin{lem}\label{lem:every.type.weakly.contractible.colimit}
  Every $S$ in $\Sa$ is the colimit of the diagram $S^{\triangleleft} \to \Sa$
sending the apex to $0$ and every other element to $\ast$; that is, the
composite
$$S^{\triangleleft} \xto{\bang^{\triangleleft}} \ast^{\triangleleft} \xto{0 \to
  1} \Sa.$$
\end{lem}
\begin{proof}
\emph{Idea:} By Lemma \label{lem:cone.initial.equivalence}, this diagram
corresponds to the terminal diagram $\ast : S \to \Sa$, and $S$ is well known to
be the colimit of this diagram (see Lurie, probably).
\end{proof}

\begin{thm}\label{thm:dirichlet.series.functors.equivalence}
  A contravariant functor is Dirichlet if and only if it is the extent of a
  Dirichlet series. That is, the adjunction $\term{ext} \dashv (-)\bang_0 : \DirSeries \leftrightarrows
  \Fun(\Sa\op,\, \Sa)$ restricts to an equivalence $\DirSeries \simeq \Dir$. As
  a corollary, $\Dir$ is an $\infty$-topos
\end{thm}
\begin{proof}
  First, we show that the extent of a Dirichlet series is a Dirichlet functor.
  \emph{Idea:} Weakly contractible limits commute with dependent sums. More
  fully: the extent of a Dirichlet series $\pi : E \to B$ can be expressed as
  the composite
  $$\Sa\op \xto{B^{\ast}\op} (\Sa_{/B})\op \xto{[-,\pi]} \Sa_{/B} \xto{B_{\ast}}
  \Sa.$$
  The first functor in this composite has both adjoints, and so in particular
  preserves all limits. The second is part of a two-variable adjunction, and so
  also preserves all limits. Finally, the last functor is the forgetful functor
  $\Sa_{/B} \to \Sa$, and by Lemma 2.2.7 of \cite{GHK:Analytic.Monads}, these
  functors always create weakly contractible limits.

  Now, we show that if a functor $D$ is Dirichlet, then the unit $D \Rightarrow
  \term{ext}_{D\bang_0}$ is an equivalence.
  \emph{Idea:} We note that every $S \in \Sa$ is the colimit of the diagram
  $S^{\triangleleft} \to \Sa$ sending the apex of the cone to $0$ and every
  element of $S$ to $\ast$ (see Lemma
  \ref{lem:every.type.weakly.contractible.colimit}). This is a weakly
  contractible colimit, and so it is preserved by $D$; therefore, $D(S)$ is the
  limit of the diagram
  $$S^{\triangleleft}\op \xto{\bang^{\triangleleft}\op}
  \ast^{\triangleleft}\op \xto{\bang_0\op} \Sa\op \xto{D} \Sa$$
  But so is $\DirSeries(!_S,\, D!_0)$.
\end{proof}

\section{Cartisian Morphisms of Dirichlet Series and Functors}

\begin{defn}
A map $\pi \to \pi'$ of Dirichlet series is \emph{cartesian} if it
is a pullback:
\[
  \begin{tikzcd}
    E \arrow[d, "\pi"'] \arrow[r] \arrow[dr, phantom, "\ulcorner" very near
    start] & E' \arrow[d, "\pi'"] \\
    B \arrow[r] & B'
  \end{tikzcd}
\]
We denote by $\DirSeries_{\term{Cart}}$ the $\infty$-category of Dirichlet
series and cartesian morphisms between them.

A natural transformation $F \Rightarrow F'$ is \emph{cartesian} if its
naturality squares are pullbacks. We denote by $\Fun_{\term{Cart}}(\Sa\op, \Sa)$
the $\infty$-category of (contravariant) functors and cartesian natural transformations.
\end{defn}

\begin{prop}
The equivalence of Theorem \ref{thm:dirichlet.series.functors.equivalence}
restricts to an equivalence
$$\Dir_{\term{Cart}} \simeq \DirSeries_{\term{Cart}}.$$
\end{prop}

\begin{thm}\label{thm:formal.mellin.transform}
We have an equivalence $\DirSeries_{\type{Cart}} \simeq
\type{PolyEnd}_{\type{Cart}}$ between the $\infty$-category of Dirichlet series
and cartesian morphisms and the $\infty$-category of polynomial endofunctors of
$\Sa$ and cartesian morphisms. This gives us an equivalence
$$\Dir_{\term{Cart}} \simeq \type{PolyEnd}_{\term{Cart}}$$
which we call the \emph{formal Mellin transform} -- since it can be seen as
acting on the ``basis'' of representables by
$$N^S \mapsto S^N.$$
\end{thm}
\begin{proof}
The $\infty$-category $\DirSeries_{\term{Cart}}$ is equivalent to the $\infty$-category
$\type{Poly}_{\term{Cart}}$ of $(\ast,\, \ast)$-polynomials, so this follows immediately from Proposition 2.4.13 of \cite{GHK:Analytic.Monads}.
\end{proof}

\begin{cor}
Let $D$ be a Dirichlet functor. Then the $\infty$-category $\Dir_{/_{\term{Cart}} D}$
(and equivalently the $\infty$-category $\DirSeries_{/_{\term{Cart}} D!_0}$ of
Dirichlet series cartesian over $D!_0$) of
Dirichlet functors cartesian over $D$ is an $\infty$-topos.
\end{cor}
\begin{proof}
  We note that
  $$\Dir_{/_{\term{Cart}} D} \simeq \Dir_{\term{Cart}/D}$$
  the $\infty$-category of Dirichlet functors cartesian over $D$ and the
  $\infty$-category of Dirichlet functors cartesian over $D$ an \emph{cartesian}
  natural transformations between them are equivalence by pullback pasting.
  Then, by Theorem \ref{thm:formal.mellin.transform}, we have an equivalence
  $$\Dir_{\term{Cart}/D} \simeq \type{PolyEnd}_{\term{Cart}/P}$$
  where $P$ is the formal Mellin transform of $D$. By Theorem 2.6.1 of
  \cite{GHK:Analytic.Monads}, $\type{PolyEnd}_{\term{Cart}/P}$ is an $\infty$-topos.
\end{proof}

\section{Ordinary, Extraordinary, and Exponential Dirichlet Series}

We will now consider a few restricted classes of Dirichlet series (and,
equivalently, Dirichlet functors). Each can be expressed as Dirichlet series
cartesian over a fixed series.
\[
  \begin{tabular}{|c|c|c|}
    \hline
    Name & Form & Base Series \\\hline\hline
    Exponential & $\displaystyle \sum_{n : \Nb} a_n\frac{n^{-s}}{n!}$ & $\type{FinTorsor} \to \type{FinGroup}$ \\ \hline
    Ordinary & $\displaystyle \sum_{n : \Nb} a_n n^{-s} $ & $\type{LocallyFin}_{0,\ast} \to \type{LocallyFin}_0$ \\ \hline
    Negative Exponential & $\displaystyle \sum_{n : \Nb} a_n \frac{n^s}{n!}$ & $\type{Fin}_{\ast} \to \type{Fin}$\\ \hline
  \end{tabular}
\]





\section{Characters and Dirichlet $L$-Functors}


\section{Functional Equations}
